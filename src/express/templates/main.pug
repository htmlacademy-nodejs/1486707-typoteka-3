extends layout.pug

block header-content
    include partials/header-main

block main-content
    main.main-page
        h1.visually-hidden –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–∏—á–Ω–æ–≥–æ –±–ª–æ–≥–∞ –¢–∏–ø–æ—Ç–µ–∫–∞
        p.main-page__greeting.title.title--big
            | –≠—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –±–ª–æ–≥–∞ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ–±—ã –æ–ø–∏—Å–∞—Ç—å —Å–µ–±—è üëè
        section.main-page__theme-list
            h2.visually-hidden –°–ø–∏—Å–æ–∫ —Ç–µ–º
            ul.themes
                each category of categories
                  li.themes__item
                    a.themes__item-link(href=`/articles/category/${category.id}`)
                      | #{category.name}
                      sup #{category.count}
        .main-page__section-flex
            section.main-page__hot.hot
                h2.hot__name
                    | –°–∞–º–æ–µ –æ–±—Å—É–∂–¥–∞–µ–º–æ–µ
                    span.hot__icon.hot__icon--fire
                ul.hot__list
                    each article of commented
                      li.hot__list-item
                          a.hot__list-link(href=`/articles/${article.id}`)
                              | #{article.announce}
                              sup.hot__link-sup #{article.commentsCount}
            section.main-page__last.last
                h2.last__name
                    | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
                    span.last__icon.last__icon--cloud
                ul.last__list
                    each comment of recentComments
                        li.last__list-item
                            img.last__list-image(src=`/img/${comment.users.avatar}` width='20' height='20' alt='–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è')
                            b.last__list-name #{`${comment.users.name} ${comment.users.surname}`}
                            a.last__list-link(href=`/articles/${comment.articleId}`) #{comment.text}
        section.main-page__list.preview
            h2.visually-hidden –°–ø–∏—Å–æ–∫ –ø—Ä–µ–≤—å—é —Å—Ç–∞—Ç–µ–π
            ul.preview__list
                each article of currentArticles
                    li.preview__item
                        ul.preview__breadcrumbs
                            each category of article.categories
                                li.preview__breadcrumbs-item
                                    a.preview__breadcrumbs-link(href=`/articles/category/${category.id}`) #{category.name}
                        -
                        if (article.picture)
                            .preview__background
                                img.preview__background-image(src=`./img/${article.picture}` width='460' height='240' alt=article.title)
                        time.preview__time(datetime=article.createdAt) #{article.createdAt}
                        h3.preview__name
                            a.preview__name-link(href=`/articles/${article.id}`) #{article.announce}
                        p.preview__text #{article.text}
                        a.preview__comment(href=`/articles/${article.id}`)
                            | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
                            span.preview__cloud
                            b.preview__comment-count #{(article.comments.length) || 0}
        +pagination(page, totalPages, 2, `?`)
